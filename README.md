# CourseWork
Это - репозиторий для курсового проекта
Команда: 
 - Харитонов Лев Алексеевич, 3530904/90101
 - Степанов Алексей Андреевич, 3530904/90101
 - Коломыченко Артем Максимович, 3530904/90101

# Технологии
В рамках работы над проектом была настроена Канбан-доска в Github Projects; <br>
В Github Actions можно увидеть подготовленный workflow, который пакует приложение и выполняет юнит-тесты (maven package); <br>
В папке C4 находятся диаграммы модели C4, а также архтектурный рисунок, который мы нарисовали в Miro до начала работы; <br>

# Запуск
Приложение собирается и упаковывается в fatJAR <br>
Далее, Jar отправляется на Raspberry по SSH или через VNC  <br>
Откуда запускается командой  <br>
    
    java -jar K*.jar

# Описание проекта
В рамках курсового проекта наша команда планирует реализовать ПО для автоматизации сушильной камеры для древесины. Выбор темы обусловлен тем, что у нас есть заказчик, заинтересованный в организации в организации предприятия по сушке дерева. 

Наша задача - разработать программу для микроконтроллера, устанавливающегося в блоке управления камерой, который будет получать данные с датчиков, поддерживать режим сушки и управлять системами обогрева и вентиляции.

## Платформа
В качестве микроконтроллера используется **Raspberry Pi 4 Model B**
Датчики и управляемые элементы:
 - Датчик влажности и температуры воздуха DHT22
 - Часы реального времени DS3231
 - Управляемое реле RTD14005

## Сроки
**Прототип**: середина декабря 2021

**Готовый проект**: дата открыта для обсуждения с заказчиком, ориентировочно весна 2022

# Составные части
 - [x] Модуль считывания данных с датчиков температуры и влажности
 - [ ] Модуль регистрации данных о влажности дерева
 - [x] Модуль работы с часами реального времени
 - [x] Алгоритм сушки - обработка данных и формирование сигналов к управляющим модулям
 - [x] Модуль управления системами климат-контроля (нагревание, вентиляция)
 - [ ] Веб-интерфейс для удаленного управления процессом

# Прототип
В этом разделе представлено описание прототипа, результаты работы с которым будут представлены как курсовая работа, а также показаны заказчику.

**Обязательные требования:**
 - Пользовательское взаимодействие организовано через консоль
 - Датчики температуры и влажности подключаются и обрабатываются микроконтроллером
 - Данные о влажности древесины заносятся вручную через интерфейс
 - Реализован алгоритм сушки, подбирающий подходящий режим под характеристики материала
 - Соблюдение режима сушки происходит продолжительно с опорой на часы реального времени
 - Управление системами климат-контроля симулирется подачей сигналов на подключенные светодиоды и (или) на управляемые реле с подключенным мультиметром
 
**Дополнительные nice-to-have идеи:**
 - Реализовать веб-эндпоинты для удаленного управления алгоритмом и считывания параметров
 - Собрать макет сушильной камеры из герметичного пластмассового ящика, в который можно будет установить датчики и небольшие элементы климат-контроля для наглядного показа работы.
 - Добавить fail-safe систему, регистрирующую скачки и перебои напряжения в сети, питающей контроллер. При регистрации скачков нужна остановка/прерывание и возобновление/поддержание работы алгоритма, аварийное логирование, и обеспечение сигнализации светом/звуком/уведолением пользователю

# Готовый проект
*Этот раздел будет дополняться и финализироваться в процессе работы и дальнейших обсуждений с заказчиком*

Готовый блок управления должен быть готов к установке и монтажу в камере. Должна быть подготовлена инструкция по установке и первичной настройке автоматики. 

Из-за особенностей реализации, тестировать управления промышленными элементами во время разработки невозможно, поэтому 

 - Алгоритм должен быть гибким и легко модифицируемым
 - Обработка первых пробных партий древесины будет производится в тестово-отладочном режиме для выявления ошибок и недостатков.

В готовом применении необходимо будет реализовать управление промышленными системами климат-контроля, включающими в себя:
 - Регулятор подачи воды в калорифер (открывание-закрывание)
 - Электрические задвижки на подачу-выкачивание воздуха - 4 штуки на каждую сторону в камере
 - Управление вентилятором (планируется применять реверсивный вентилятор с питанием на 380 вольт)
 - Трехходовой водяной клапан (подает горячую воду в калорифер), может смешивать с холодной водой



